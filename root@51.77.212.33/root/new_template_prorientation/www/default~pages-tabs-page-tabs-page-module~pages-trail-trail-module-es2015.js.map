{"version":3,"sources":["./src/app/pages/trail/trail.page.html","./src/app/pages/trail/trail-routing.module.ts","./src/app/pages/trail/trail.module.ts","./src/app/pages/trail/trail.page.scss","./src/app/pages/trail/trail.page.ts","./src/app/providers/map.service.ts"],"names":[],"mappings":"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","file":"default~pages-tabs-page-tabs-page-module~pages-trail-trail-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://unpkg.com/leaflet@1.5.1/dist/leaflet.css\\\"\\n    integrity=\\\"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==\\\"\\n    crossorigin=\\\"\\\"/>\\n   <link rel=\\\"stylesheet\\\" href=\\\"https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css\\\" />\\n   <script src=\\\"https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js\\\"></script>\\n   <script src=\\\"http://www.liedman.net/lrm-mapbox/dist/lrm-mapbox-1.0.4.js\\\"></script>\\n\\n\\n    <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title color=\\\"secondary\\\">Trail</ion-title>\\n    </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n  <div #mapCanvas class=\\\"map-canvas\\\" id=\\\"trail\\\"></div>\\n  <div id=\\\"trail1\\\"></div>\\n\\n</ion-content>\\n\\n<div id=\\\"button-bottom\\\">\\n  <ion-button class=\\\"button button-block button-energized\\\" (click)=\\\"transition()\\\">Infos</ion-button>\\n</div>\\n\\n  <ion-row class=\\\"ion-align-items-stretch\\\" id=\\\"footer\\\">\\n    <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\n      <ion-card id=\\\"chrono\\\">\\n        <ion-card-header>\\n          <ion-item detail=\\\"false\\\" lines=\\\"none\\\">\\n            Chrono\\n          </ion-item>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <ion-list>\\n            <ion-item>\\n              <h2>{{time}}</h2>\\n            </ion-item>\\n            <ion-item>\\n              <ion-button (click)=\\\"observableTimer()\\\" *ngIf=\\\"ShowStartButton == true\\\">Start</ion-button>\\n              <ion-button (click)=\\\"pauseTimer()\\\" *ngIf=\\\"ShowPause == true\\\">Pause</ion-button>\\n              <ion-button (click)=\\\"resumeTimer()\\\" *ngIf=\\\"ShowResume == true\\\">Resume</ion-button>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-button (click)=\\\"addTrailToFirebase()\\\" *ngIf=\\\"ShowEnd == true\\\">Finish</ion-button>\\n            </ion-item>\\n\\n          </ion-list>\\n        </ion-card-content>\\n\\n\\n      </ion-card>\\n    </ion-col>\\n\\n    <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\n      <ion-card id=\\\"chrono\\\">\\n        <ion-card-header>\\n          <ion-item detail=\\\"false\\\" lines=\\\"none\\\">\\n            distance\\n          </ion-item>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <ion-list>\\n            <ion-item>\\n              <h2>{{total_distance}}</h2>\\n            </ion-item>\\n            <ion-item>\\n              <h2>{{pourcentage}}</h2>\\n            </ion-item>\\n\\n          </ion-list>\\n        </ion-card-content>\\n\\n\\n      </ion-card>\\n    </ion-col>\\n\\n  </ion-row>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TrailPage } from './trail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TrailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TrailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TrailPageRoutingModule } from './trail-routing.module';\n\nimport { TrailPage } from './trail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TrailPageRoutingModule\n  ],\n  declarations: [TrailPage]\n})\nexport class TrailPageModule {}\n","export default \".map-canvas {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  background-color: transparent;\\n  opacity: 1;\\n  -webkit-transition: opacity 150ms ease-in;\\n  transition: opacity 150ms ease-in;\\n  z-index: 10;\\n}\\n\\n.show-map {\\n  opacity: 0;\\n}\\n\\n.utils {\\n  position: absolute;\\n  right: 80%;\\n  color: white;\\n  z-index: 40;\\n}\\n\\n.chrono {\\n  position: absolute;\\n  bottom: 10%;\\n  opacity: 1;\\n}\\n\\n.button {\\n  position: absolute;\\n}\\n\\n#footer {\\n  position: absolute;\\n  height: 0%;\\n  width: 50%;\\n  bottom: 0%;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  background-color: transparent;\\n  opacity: 1;\\n  z-index: 30;\\n}\\n\\n#button-bottom {\\n  position: absolute;\\n  bottom: 10%;\\n  right: 50%;\\n  z-index: 20;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FkZWpvbmdoZS9jbG9uZVN0YWJsZS9vc3JtL25ld190ZW1wbGF0ZV9wcm9yaWVudGF0aW9uL3NyYy9hcHAvcGFnZXMvdHJhaWwvdHJhaWwucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy90cmFpbC90cmFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUVBLFlBQUE7RUFDQSxXQUFBO0VBRUEsNkJBQUE7RUFFQSxVQUFBO0VBQ0EseUNBQUE7RUFBQSxpQ0FBQTtFQUNBLFdBQUE7QUNGSjs7QURLRTtFQUNFLFVBQUE7QUNGSjs7QURLRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDRko7O0FETUU7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0FDSEo7O0FETUU7RUFDRSxrQkFBQTtBQ0hKOztBRE9FO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLFVBQUE7RUFDRCx5QkFBQTtVQUFBLG1CQUFBO0VBRUMsNkJBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQ0xKOztBRFFFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNMSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RyYWlsL3RyYWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAtY2FudmFzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG5cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcblxuICAgIG9wYWNpdHk6IDE7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xuICAgIHotaW5kZXg6IDEwO1xuICB9XG5cbiAgLnNob3ctbWFwIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG5cbiAgLnV0aWxzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDgwJTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgei1pbmRleDogNDA7XG5cbiAgfVxuXG4gIC5jaHJvbm8ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDEwJTtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG5cbiAgLmJ1dHRvbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIH1cblxuICAjZm9vdGVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgaGVpZ2h0OiAwJTtcbiAgICB3aWR0aDogNTAlO1xuICAgIGJvdHRvbTowJTtcbiAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBvcGFjaXR5OjE7XG4gICAgei1pbmRleDogMzA7XG4gIH1cblxuICAjYnV0dG9uLWJvdHRvbSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbToxMCU7XG4gICAgcmlnaHQ6IDUwJTtcbiAgICB6LWluZGV4OiAyMDtcbiAgfVxuXG5cbiAgXG4iLCIubWFwLWNhbnZhcyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIG9wYWNpdHk6IDE7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMTUwbXMgZWFzZS1pbjtcbiAgei1pbmRleDogMTA7XG59XG5cbi5zaG93LW1hcCB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi51dGlscyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDgwJTtcbiAgY29sb3I6IHdoaXRlO1xuICB6LWluZGV4OiA0MDtcbn1cblxuLmNocm9ubyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAxMCU7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5idXR0b24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbiNmb290ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMCU7XG4gIHdpZHRoOiA1MCU7XG4gIGJvdHRvbTogMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBvcGFjaXR5OiAxO1xuICB6LWluZGV4OiAzMDtcbn1cblxuI2J1dHRvbi1ib3R0b20ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMTAlO1xuICByaWdodDogNTAlO1xuICB6LWluZGV4OiAyMDtcbn0iXX0= */\"","import { Component, OnInit} from '@angular/core';\nimport 'leaflet';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport 'leaflet-routing-machine';\ndeclare let L;\nimport { mapbox } from 'lrm-mapbox';\nimport { MapService } from '../../providers/map.service';\nimport { cpus } from 'os';\nimport { ActivatedRoute } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport * as firebase from 'firebase/app';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AuthenticateService } from '../services/authentication.service';\nimport { timer } from 'rxjs';\nimport { Router} from '@angular/router';\n\n\n\n@Component({\n  selector: 'trail',\n  templateUrl: './trail.page.html',\n  styleUrls: ['./trail.page.scss'],\n})\n\nexport class TrailPage implements OnInit {\n  connected=null\n  time = 0;\n  ShowStartButton = true;\n  ShowPause = false;\n  ShowEnd = false;\n  ShowResume = false;\n  continue = true;\n  prec_time = 0;\n  paused = true;\n  sub;\n  showInfos = true;\n  infos;\n  total_distance = 0;\n  lat=0;\n  long=0;\n  constructor(\n    private mapService : MapService,\n    private route : ActivatedRoute,\n    private storage: Storage,\n    public afs: AngularFirestore,\n    public connectedService : AuthenticateService,\n    private router: Router\n    ) {}\n\n\n  ngOnInit() {\n\n    var object = new Geolocation();\n    object.getCurrentPosition().then(async (resp) => {\n      this.lat=resp.coords.latitude\n      this.long=resp.coords.longitude\n\n      console.log(this.lat,this.long)\n      /*var container = L.DomUtil.get('mapid');\n      if (container != null){\n        console.log(\"rentre\");\n        container._leaflet_id = null;\n\n      }\n\n      var container2 = L.DomUtil.get('mapid1');\n      if (container2 != null){\n        console.log(\"rentre1\");\n        container2._leaflet_id = null;\n      }\n*/\n      var mymap = L.map('trail').setView([this.lat, this.long], 13);\n      var testMap = L.map('trail1').setView([this.lat, this.long], 13);\n\n      mymap.locate({\n        watch:true,\n\n      });\n\n      testMap.locate({\n        watch:true,\n\n      });\n\n      let watch = object.watchPosition();\n      watch.subscribe((data) => {\n        var marker = L.marker([this.lat, this.long]).addTo(mymap);\n      });\n\n\n\n\n\n      mymap.on('locationfound',this.onLocationFound);\n\n\n      L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n  \t    attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n   \t    maxZoom: 18,\n   \t    id: 'mapbox.streets',\n        accessToken: 'pk.eyJ1IjoibHVjYXNib3V2YXJlbCIsImEiOiJjazJycHIwbXQwZGs3M25udmltaGg3eTFlIn0.XGIAxbBH8QGE1ZnmHUztMQ'\n      }).addTo(mymap);\n\n      L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n  \t    attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n   \t    maxZoom: 18,\n   \t    id: 'mapbox.streets',\n   \t    accessToken: 'pk.eyJ1IjoibHVjYXNib3V2YXJlbCIsImEiOiJjazJycHIwbXQwZGs3M25udmltaGg3eTFlIn0.XGIAxbBH8QGE1ZnmHUztMQ'\n      }).addTo(testMap);\n\n      var target = 1;\n\n      var tickedInterest = new Array();\n\n      await this.storage.get('distanceCoursePied').then((res) =>{\n        target = res;\n\n      });\n\n      await this.storage.get('tickedInterest').then((res) =>{\n        tickedInterest = res;\n\n      });\n\n      this.mapService.tsp(this.lat,this.long,target,tickedInterest).then((res)=>{\n        console.log(\"res\");\n        console.log(res);\n        var order = res[0];\n        var eliminatedNodes = res[1];\n        var arrayCoords = res[2];\n\n\n        let options = { profile: 'mapbox/walking' };\n\n        var pointsWay = [];\n\n        var coordConservedNodes = this.mapService.zeros([order.length,2]);\n\n        var i;\n        var j;\n        var indexNodes = -1;\n        for(i=0; i < arrayCoords.length ;i++){\n          var bool = 0;\n          for(j=0; j < eliminatedNodes.length ;j++){\n            if(i == eliminatedNodes[j]){\n              bool = 1;\n            }\n          }\n          if(bool == 0){\n            indexNodes = indexNodes + 1;\n            coordConservedNodes[indexNodes][0] = arrayCoords[i][0]\n            coordConservedNodes[indexNodes][1] = arrayCoords[i][1]\n          }\n        }\n\n\n\n        for(i=0; i < coordConservedNodes.length ;i++){\n          for(j=0; j < coordConservedNodes.length ;j++){\n            if(j == order[i]){\n              pointsWay.push(L.latLng(coordConservedNodes[j][1], coordConservedNodes[j][0]))\n            }\n          }\n        }\n\n\n\n\n        var routeControl = L.Routing.control({\n          waypoints: pointsWay,\n\n          router: new L.Routing.OSRMv1({serviceUrl: 'http://51.77.212.33:8080/route/v1'}),\n          /*router: new L.Routing.mapbox('pk.eyJ1IjoiYWRlam9uZ2hlIiwiYSI6ImNrMzl3eTFmeDAydTYzY21nZ3RoY3MwdTEifQ.vnvS6h87mJWeRuwjiWglrg', options),*/\n\n          routeWhileDragging: true\n        }).addTo(mymap);\n      });\n\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n\n\n\n  }\n  addTrailToFirebase(){\n    var new_date = new Date();\n\n    var new_date_str = new_date.getFullYear()+'-'+new_date.getMonth() +'-'+new_date.getDate();\n\n    this.connected=this.connectedService.userDetails();\n\n    if(this.connected != null && this.connected!=undefined){\n\n      this.afs.collection('/seances').add({\n        distance:this.total_distance,\n        id_user:this.connected.uid,\n        time:this.time.toString(),\n        type:\"trail\",\n        date:new_date_str\n\n      })\n    }\n    this.router.navigateByUrl('/app/tabs/Personal');\n\n  }\n\n  transition = () => {\n\n    var run_info = document.getElementById('footer');\n    var button_bottom = document.getElementById('button-bottom');\n\n    if ( this.showInfos ) {\n      run_info.style.height='30%';\n      button_bottom.style.bottom='35%';\n\n      this.showInfos = false;\n\n    } else {\n\n      run_info.style.height='0%';\n      button_bottom.style.bottom='10%';\n\n      this.showInfos = true;\n\n    }\n\n  }\n\n  onLocationFound = (e) => {\n\n    var getdistance = this.getDistance(e).then((res) => {\n\n      this.total_distance = this.total_distance + res[0];\n\n\n      if (res[0] == 0) {\n\n      } else {\n        this.lat = getdistance[1];\n        this.long = getdistance[2];\n      }\n\n    });\n  }\n\n  getDistance = (e) =>{\n    return new Promise((resolve,reject) => {\n\n      var lat = 0;\n      var long = 0;\n\n      var new_pos = e.latlng;\n\n      var url = 'http://51.77.212.33:8080/route/v1/foot/'+new_pos.lng+','+new_pos.lat+';'+this.long+','+this.lat\n\n      var req = new XMLHttpRequest();\n      req.responseType = \"json\";\n      req.open('GET', url, true);\n      req.send();\n\n      var get_distance = req.addEventListener('readystatechange', function() {\n        if(req.readyState === XMLHttpRequest.DONE) {\n          req.onload = function () {\n\n            var new_distance = req.response.routes[0].distance;\n\n\n            if(new_distance!= null){\n              if (new_distance != 0) {\n                lat = new_pos.lat;\n                long = new_pos.lng;\n              } else {\n                lat = 0;\n                long = 0;\n              }\n              resolve([10,lat,long]);\n            }else{\n              reject(\"echec\");\n            }\n          }\n        }\n      });\n   });\n }\n\n\n    observableTimer = () => {\n      const source = timer(1000, 1000);\n      this.ShowStartButton = false;\n      this.ShowEnd = true;\n      this.ShowPause = true;\n      if (this.paused == true) {\n        this.sub = source.subscribe(val => {\n          console.log(val, '-');\n          if (this.continue == true) {\n            this.time = val + this.prec_time;\n          }\n        })\n      }\n    }\n\n    pauseTimer = () => {\n      this.ShowPause = false;\n      this.ShowResume = true;\n      this.continue = false;\n      this.prec_time = this.time;\n\n      this.sub.unsubscribe();\n    }\n\n    resumeTimer = () => {\n      const source = timer(1000, 1000);\n      this.continue = true;\n      this.ShowPause = true;\n      this.ShowResume = false;\n\n      this.sub = source.subscribe(val => {\n\n        if (this.continue == true) {\n          this.time = val + this.prec_time;\n        }\n      })\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport 'leaflet';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport 'leaflet-routing-machine';\ndeclare let L;\nimport { mapbox } from 'lrm-mapbox';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n\n  constructor() {\n  }\n\n  zeros(dimensions) {\n    var array = [];\n\n    for (var i = 0; i < dimensions[0]; ++i) {\n      array.push(dimensions.length == 1 ? 0 : this.zeros(dimensions.slice(1)));\n    }\n    \n    return array;\n  }\n\n  public tsp = (lat,long,target,tickedInterest) => {\n\n    return new Promise(async (resolve,reject) => {\n\n      var urlDistances = 'http://51.91.111.135:8080/';\n      var formData = new FormData();\n      formData.append('long', long.toString());\n      formData.append('lat', lat.toString());\n      formData.append('distTarget', target.toString());\n      formData.append('tickedInterest',tickedInterest.toString());\n      var reqDistances = new XMLHttpRequest();\n      reqDistances.responseType = \"json\";\n      reqDistances.open('POST', urlDistances, true);\n      reqDistances.send(formData);\n\n      reqDistances.addEventListener('readystatechange', function() {\n        if(reqDistances.readyState === XMLHttpRequest.DONE) {\n          console.log(\"distances get ok\")\n          reqDistances.onload = function () {\n            var distancesResponse = reqDistances.response.orders;\n            var eliminatedResponse = reqDistances.response.eliminated;\n            var coordsResponse = reqDistances.response.arrayCoords;\n\n            var intDistances = []\n            var j;\n            for(j=0;j < distancesResponse.length ; j++){\n              var integer = parseInt(distancesResponse[j], 10);\n              intDistances.push(integer)\n            }\n\n            var intEliminated = []\n            for(j=0;j < eliminatedResponse.length ; j++){\n              var integer = parseInt(eliminatedResponse[j], 10);\n              intEliminated.push(integer)\n            }\n\n            var arrayCoords = new Array();\n\n            j = 0;\n            while(j < coordsResponse.length){\n              var tu = new Array()\n              tu.push(parseFloat(coordsResponse[j]));\n              j = j + 1\n              tu.push(parseFloat(coordsResponse[j]));\n              arrayCoords.push(tu)\n              j = j + 1\n\n            }\n\n            console.log(\"arrayCoords\")\n            console.log(arrayCoords)\n\n            if(distancesResponse === undefined){\n              reject(\"erreur\");\n            }else{\n              resolve([intDistances,intEliminated,arrayCoords]);\n            }\n          }\n        }\n     });\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}