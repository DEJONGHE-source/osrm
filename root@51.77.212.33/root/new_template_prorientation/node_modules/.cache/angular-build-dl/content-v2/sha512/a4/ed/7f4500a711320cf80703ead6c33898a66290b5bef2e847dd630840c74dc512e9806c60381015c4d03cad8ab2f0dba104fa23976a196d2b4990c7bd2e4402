{"version":3,"sources":["src/app/pages/trail/trail.page.html","src/app/pages/trail/trail-routing.module.ts","src/app/pages/trail/trail.module.ts","src/app/pages/trail/trail.page.scss","src/app/pages/trail/trail.page.ts","src/app/providers/map.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://unpkg.com/leaflet@1.5.1/dist/leaflet.css\\\"\\n    integrity=\\\"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==\\\"\\n    crossorigin=\\\"\\\"/>\\n   <link rel=\\\"stylesheet\\\" href=\\\"https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css\\\" />\\n   <script src=\\\"https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js\\\"></script>\\n   <script src=\\\"http://www.liedman.net/lrm-mapbox/dist/lrm-mapbox-1.0.4.js\\\"></script>\\n\\n\\n    <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-title color=\\\"secondary\\\">Trail</ion-title>\\n    </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n  <div #mapCanvas class=\\\"map-canvas\\\" id=\\\"trail\\\"></div>\\n  <div id=\\\"trail1\\\"></div>\\n\\n</ion-content>\\n\\n<div id=\\\"button-bottom\\\">\\n  <ion-button class=\\\"button button-block button-energized\\\" (click)=\\\"transition()\\\">Infos</ion-button>\\n</div>\\n\\n  <ion-row class=\\\"ion-align-items-stretch\\\" id=\\\"footer\\\">\\n    <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\n      <ion-card id=\\\"chrono\\\">\\n        <ion-card-header>\\n          <ion-item detail=\\\"false\\\" lines=\\\"none\\\">\\n            Chrono\\n          </ion-item>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <ion-list>\\n            <ion-item>\\n              <h2>{{time}}</h2>\\n            </ion-item>\\n            <ion-item>\\n              <ion-button (click)=\\\"observableTimer()\\\" *ngIf=\\\"ShowStartButton == true\\\">Start</ion-button>\\n              <ion-button (click)=\\\"pauseTimer()\\\" *ngIf=\\\"ShowPause == true\\\">Pause</ion-button>\\n              <ion-button (click)=\\\"resumeTimer()\\\" *ngIf=\\\"ShowResume == true\\\">Resume</ion-button>\\n            </ion-item>\\n\\n            <ion-item>\\n              <ion-button (click)=\\\"addTrailToFirebase()\\\" *ngIf=\\\"ShowEnd == true\\\">Finish</ion-button>\\n            </ion-item>\\n\\n          </ion-list>\\n        </ion-card-content>\\n\\n\\n      </ion-card>\\n    </ion-col>\\n\\n    <ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\n      <ion-card id=\\\"chrono\\\">\\n        <ion-card-header>\\n          <ion-item detail=\\\"false\\\" lines=\\\"none\\\">\\n            distance\\n          </ion-item>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <ion-list>\\n            <ion-item>\\n              <h2>{{total_distance}}</h2>\\n            </ion-item>\\n            <ion-item>\\n              <h2>{{pourcentage}}</h2>\\n            </ion-item>\\n\\n          </ion-list>\\n        </ion-card-content>\\n\\n\\n      </ion-card>\\n    </ion-col>\\n\\n  </ion-row>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TrailPage } from './trail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TrailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TrailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TrailPageRoutingModule } from './trail-routing.module';\n\nimport { TrailPage } from './trail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TrailPageRoutingModule\n  ],\n  declarations: [TrailPage]\n})\nexport class TrailPageModule {}\n","export default \".map-canvas {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  background-color: transparent;\\n  opacity: 1;\\n  -webkit-transition: opacity 150ms ease-in;\\n  transition: opacity 150ms ease-in;\\n  z-index: 10;\\n}\\n\\n.show-map {\\n  opacity: 0;\\n}\\n\\n.utils {\\n  position: absolute;\\n  right: 80%;\\n  color: white;\\n  z-index: 40;\\n}\\n\\n.chrono {\\n  position: absolute;\\n  bottom: 10%;\\n  opacity: 1;\\n}\\n\\n.button {\\n  position: absolute;\\n}\\n\\n#footer {\\n  position: absolute;\\n  height: 0%;\\n  width: 50%;\\n  bottom: 0%;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  background-color: transparent;\\n  opacity: 1;\\n  z-index: 30;\\n}\\n\\n#button-bottom {\\n  position: absolute;\\n  bottom: 10%;\\n  right: 50%;\\n  z-index: 20;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FkZWpvbmdoZS9jbG9uZVN0YWJsZS9vc3JtL25ld190ZW1wbGF0ZV9wcm9yaWVudGF0aW9uL3NyYy9hcHAvcGFnZXMvdHJhaWwvdHJhaWwucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy90cmFpbC90cmFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUVBLFlBQUE7RUFDQSxXQUFBO0VBRUEsNkJBQUE7RUFFQSxVQUFBO0VBQ0EseUNBQUE7RUFBQSxpQ0FBQTtFQUNBLFdBQUE7QUNGSjs7QURLRTtFQUNFLFVBQUE7QUNGSjs7QURLRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDRko7O0FETUU7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0FDSEo7O0FETUU7RUFDRSxrQkFBQTtBQ0hKOztBRE9FO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLFVBQUE7RUFDRCx5QkFBQTtVQUFBLG1CQUFBO0VBRUMsNkJBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQ0xKOztBRFFFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNMSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RyYWlsL3RyYWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAtY2FudmFzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG5cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcblxuICAgIG9wYWNpdHk6IDE7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xuICAgIHotaW5kZXg6IDEwO1xuICB9XG5cbiAgLnNob3ctbWFwIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG5cbiAgLnV0aWxzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDgwJTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgei1pbmRleDogNDA7XG5cbiAgfVxuXG4gIC5jaHJvbm8ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDEwJTtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG5cbiAgLmJ1dHRvbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIH1cblxuICAjZm9vdGVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgaGVpZ2h0OiAwJTtcbiAgICB3aWR0aDogNTAlO1xuICAgIGJvdHRvbTowJTtcbiAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBvcGFjaXR5OjE7XG4gICAgei1pbmRleDogMzA7XG4gIH1cblxuICAjYnV0dG9uLWJvdHRvbSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbToxMCU7XG4gICAgcmlnaHQ6IDUwJTtcbiAgICB6LWluZGV4OiAyMDtcbiAgfVxuXG5cbiAgXG4iLCIubWFwLWNhbnZhcyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIG9wYWNpdHk6IDE7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMTUwbXMgZWFzZS1pbjtcbiAgei1pbmRleDogMTA7XG59XG5cbi5zaG93LW1hcCB7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi51dGlscyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDgwJTtcbiAgY29sb3I6IHdoaXRlO1xuICB6LWluZGV4OiA0MDtcbn1cblxuLmNocm9ubyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAxMCU7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5idXR0b24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbiNmb290ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMCU7XG4gIHdpZHRoOiA1MCU7XG4gIGJvdHRvbTogMCU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBvcGFjaXR5OiAxO1xuICB6LWluZGV4OiAzMDtcbn1cblxuI2J1dHRvbi1ib3R0b20ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMTAlO1xuICByaWdodDogNTAlO1xuICB6LWluZGV4OiAyMDtcbn0iXX0= */\"","import { Component, OnInit} from '@angular/core';\nimport 'leaflet';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport 'leaflet-routing-machine';\ndeclare let L;\nimport { mapbox } from 'lrm-mapbox';\nimport { MapService } from '../../providers/map.service';\nimport { cpus } from 'os';\nimport { ActivatedRoute } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport * as firebase from 'firebase/app';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { AuthenticateService } from '../services/authentication.service';\nimport { timer } from 'rxjs';\nimport { Router} from '@angular/router';\n\n\n\n@Component({\n  selector: 'trail',\n  templateUrl: './trail.page.html',\n  styleUrls: ['./trail.page.scss'],\n})\n\nexport class TrailPage implements OnInit {\n  connected=null\n  time = 0;\n  ShowStartButton = true;\n  ShowPause = false;\n  ShowEnd = false;\n  ShowResume = false;\n  continue = true;\n  prec_time = 0;\n  paused = true;\n  sub;\n  showInfos = true;\n  infos;\n  total_distance = 0;\n  lat=0;\n  long=0;\n  constructor(\n    private mapService : MapService,\n    private route : ActivatedRoute,\n    private storage: Storage,\n    public afs: AngularFirestore,\n    public connectedService : AuthenticateService,\n    private router: Router\n    ) {}\n\n\n  ngOnInit() {\n\n    var object = new Geolocation();\n    object.getCurrentPosition().then(async (resp) => {\n      this.lat=resp.coords.latitude\n      this.long=resp.coords.longitude\n\n      console.log(this.lat,this.long)\n      /*var container = L.DomUtil.get('mapid');\n      if (container != null){\n        console.log(\"rentre\");\n        container._leaflet_id = null;\n\n      }\n\n      var container2 = L.DomUtil.get('mapid1');\n      if (container2 != null){\n        console.log(\"rentre1\");\n        container2._leaflet_id = null;\n      }\n*/\n      var mymap = L.map('trail').setView([this.lat, this.long], 13);\n      var testMap = L.map('trail1').setView([this.lat, this.long], 13);\n\n      mymap.locate({\n        watch:true,\n\n      });\n\n      testMap.locate({\n        watch:true,\n\n      });\n\n      let watch = object.watchPosition();\n      watch.subscribe((data) => {\n        var marker = L.marker([this.lat, this.long]).addTo(mymap);\n      });\n\n\n\n\n\n      mymap.on('locationfound',this.onLocationFound);\n\n\n      L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n  \t    attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n   \t    maxZoom: 18,\n   \t    id: 'mapbox.streets',\n        accessToken: 'pk.eyJ1IjoibHVjYXNib3V2YXJlbCIsImEiOiJjazJycHIwbXQwZGs3M25udmltaGg3eTFlIn0.XGIAxbBH8QGE1ZnmHUztMQ'\n      }).addTo(mymap);\n\n      L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n  \t    attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n   \t    maxZoom: 18,\n   \t    id: 'mapbox.streets',\n   \t    accessToken: 'pk.eyJ1IjoibHVjYXNib3V2YXJlbCIsImEiOiJjazJycHIwbXQwZGs3M25udmltaGg3eTFlIn0.XGIAxbBH8QGE1ZnmHUztMQ'\n      }).addTo(testMap);\n\n      var target = 1;\n\n      var tickedInterest = new Array();\n\n      await this.storage.get('distanceCoursePied').then((res) =>{\n        target = res;\n\n      });\n\n      await this.storage.get('tickedInterest').then((res) =>{\n        tickedInterest = res;\n\n      });\n\n      this.mapService.tsp(this.lat,this.long,target,tickedInterest).then((res)=>{\n        console.log(\"res\");\n        console.log(res);\n        var order = res[0];\n        var eliminatedNodes = res[1];\n        var arrayCoords = res[2];\n\n\n        let options = { profile: 'mapbox/walking' };\n\n        var pointsWay = [];\n\n        var coordConservedNodes = this.mapService.zeros([order.length,2]);\n\n        var i;\n        var j;\n        var indexNodes = -1;\n        for(i=0; i < arrayCoords.length ;i++){\n          var bool = 0;\n          for(j=0; j < eliminatedNodes.length ;j++){\n            if(i == eliminatedNodes[j]){\n              bool = 1;\n            }\n          }\n          if(bool == 0){\n            indexNodes = indexNodes + 1;\n            coordConservedNodes[indexNodes][0] = arrayCoords[i][0]\n            coordConservedNodes[indexNodes][1] = arrayCoords[i][1]\n          }\n        }\n\n\n\n        for(i=0; i < coordConservedNodes.length ;i++){\n          for(j=0; j < coordConservedNodes.length ;j++){\n            if(j == order[i]){\n              pointsWay.push(L.latLng(coordConservedNodes[j][1], coordConservedNodes[j][0]))\n            }\n          }\n        }\n\n\n\n\n        var routeControl = L.Routing.control({\n          waypoints: pointsWay,\n\n          router: new L.Routing.OSRMv1({serviceUrl: 'http://51.77.212.33:8080/route/v1'}),\n          /*router: new L.Routing.mapbox('pk.eyJ1IjoiYWRlam9uZ2hlIiwiYSI6ImNrMzl3eTFmeDAydTYzY21nZ3RoY3MwdTEifQ.vnvS6h87mJWeRuwjiWglrg', options),*/\n\n          routeWhileDragging: true\n        }).addTo(mymap);\n      });\n\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n\n\n\n  }\n  addTrailToFirebase(){\n    var new_date = new Date();\n\n    var new_date_str = new_date.getFullYear()+'-'+new_date.getMonth() +'-'+new_date.getDate();\n\n    this.connected=this.connectedService.userDetails();\n\n    if(this.connected != null && this.connected!=undefined){\n\n      this.afs.collection('/seances').add({\n        distance:this.total_distance,\n        id_user:this.connected.uid,\n        time:this.time.toString(),\n        type:\"trail\",\n        date:new_date_str\n\n      })\n    }\n    this.router.navigateByUrl('/app/tabs/Personal');\n\n  }\n\n  transition = () => {\n\n    var run_info = document.getElementById('footer');\n    var button_bottom = document.getElementById('button-bottom');\n\n    if ( this.showInfos ) {\n      run_info.style.height='30%';\n      button_bottom.style.bottom='35%';\n\n      this.showInfos = false;\n\n    } else {\n\n      run_info.style.height='0%';\n      button_bottom.style.bottom='10%';\n\n      this.showInfos = true;\n\n    }\n\n  }\n\n  onLocationFound = (e) => {\n\n    var getdistance = this.getDistance(e).then((res) => {\n\n      this.total_distance = this.total_distance + res[0];\n\n\n      if (res[0] == 0) {\n\n      } else {\n        this.lat = getdistance[1];\n        this.long = getdistance[2];\n      }\n\n    });\n  }\n\n  getDistance = (e) =>{\n    return new Promise((resolve,reject) => {\n\n      var lat = 0;\n      var long = 0;\n\n      var new_pos = e.latlng;\n\n      var url = 'http://51.77.212.33:8080/route/v1/foot/'+new_pos.lng+','+new_pos.lat+';'+this.long+','+this.lat\n\n      var req = new XMLHttpRequest();\n      req.responseType = \"json\";\n      req.open('GET', url, true);\n      req.send();\n\n      var get_distance = req.addEventListener('readystatechange', function() {\n        if(req.readyState === XMLHttpRequest.DONE) {\n          req.onload = function () {\n\n            var new_distance = req.response.routes[0].distance;\n\n\n            if(new_distance!= null){\n              if (new_distance != 0) {\n                lat = new_pos.lat;\n                long = new_pos.lng;\n              } else {\n                lat = 0;\n                long = 0;\n              }\n              resolve([10,lat,long]);\n            }else{\n              reject(\"echec\");\n            }\n          }\n        }\n      });\n   });\n }\n\n\n    observableTimer = () => {\n      const source = timer(1000, 1000);\n      this.ShowStartButton = false;\n      this.ShowEnd = true;\n      this.ShowPause = true;\n      if (this.paused == true) {\n        this.sub = source.subscribe(val => {\n          console.log(val, '-');\n          if (this.continue == true) {\n            this.time = val + this.prec_time;\n          }\n        })\n      }\n    }\n\n    pauseTimer = () => {\n      this.ShowPause = false;\n      this.ShowResume = true;\n      this.continue = false;\n      this.prec_time = this.time;\n\n      this.sub.unsubscribe();\n    }\n\n    resumeTimer = () => {\n      const source = timer(1000, 1000);\n      this.continue = true;\n      this.ShowPause = true;\n      this.ShowResume = false;\n\n      this.sub = source.subscribe(val => {\n\n        if (this.continue == true) {\n          this.time = val + this.prec_time;\n        }\n      })\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport 'leaflet';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport 'leaflet-routing-machine';\ndeclare let L;\nimport { mapbox } from 'lrm-mapbox';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n\n  constructor() {\n  }\n\n  zeros(dimensions) {\n    var array = [];\n\n    for (var i = 0; i < dimensions[0]; ++i) {\n      array.push(dimensions.length == 1 ? 0 : this.zeros(dimensions.slice(1)));\n    }\n    \n    return array;\n  }\n\n  public tsp = (lat,long,target,tickedInterest) => {\n\n    return new Promise(async (resolve,reject) => {\n\n      var urlDistances = 'http://51.91.111.135:8080/';\n      var formData = new FormData();\n      formData.append('long', long.toString());\n      formData.append('lat', lat.toString());\n      formData.append('distTarget', target.toString());\n      formData.append('tickedInterest',tickedInterest.toString());\n      var reqDistances = new XMLHttpRequest();\n      reqDistances.responseType = \"json\";\n      reqDistances.open('POST', urlDistances, true);\n      reqDistances.send(formData);\n\n      reqDistances.addEventListener('readystatechange', function() {\n        if(reqDistances.readyState === XMLHttpRequest.DONE) {\n          console.log(\"distances get ok\")\n          reqDistances.onload = function () {\n            var distancesResponse = reqDistances.response.orders;\n            var eliminatedResponse = reqDistances.response.eliminated;\n            var coordsResponse = reqDistances.response.arrayCoords;\n\n            var intDistances = []\n            var j;\n            for(j=0;j < distancesResponse.length ; j++){\n              var integer = parseInt(distancesResponse[j], 10);\n              intDistances.push(integer)\n            }\n\n            var intEliminated = []\n            for(j=0;j < eliminatedResponse.length ; j++){\n              var integer = parseInt(eliminatedResponse[j], 10);\n              intEliminated.push(integer)\n            }\n\n            var arrayCoords = new Array();\n\n            j = 0;\n            while(j < coordsResponse.length){\n              var tu = new Array()\n              tu.push(parseFloat(coordsResponse[j]));\n              j = j + 1\n              tu.push(parseFloat(coordsResponse[j]));\n              arrayCoords.push(tu)\n              j = j + 1\n\n            }\n\n            console.log(\"arrayCoords\")\n            console.log(arrayCoords)\n\n            if(distancesResponse === undefined){\n              reject(\"erreur\");\n            }else{\n              resolve([intDistances,intEliminated,arrayCoords]);\n            }\n          }\n        }\n     });\n    });\n  }\n}\n"],"sourceRoot":"webpack:///","file":"default~pages-tabs-page-tabs-page-module~pages-trail-trail-module-es5.js"}